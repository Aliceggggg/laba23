#include "bin5.h"
#include <iostream>
#include <string>
#include <windows.h>

using namespace std;

int main() {
    SetConsoleOutputCP(CP_UTF8);
    setlocale(LC_ALL, "Russian");
    Node* root = nullptr;
    string n1, value1;
    int n, value;
    cout << "Введите количество элементов дерева: ";
    cin >> n1;
    while (!(check(n1))) {
        n1.clear();
        cout << "Попалась! Попробуйте снова: ";
        cin >> n1;
    }
    n = stoi(n1);


    cout << "Введите элементы дерева:" << endl;
    for (int i = 0; i < n; i++) {
        cin >> value1;
        while (!(check(value1))) {
            value1.clear();
            cout << "Попалась! Попробуйте снова: ";
            cin >> value1;
        }
        value = stoi(value1);
        root = insertNode(root, value);
    }

    cout << "\nИсходное бинарное дерево поиска:\n";
    printTree(root);

    Node* head = nullptr;
    Node* prev = nullptr;
    convert(root, prev, head);

    cout << "\nПреобразованный двусвязный список (упорядочен по возрастанию):\n";
    printList(head);

}
